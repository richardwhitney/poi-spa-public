(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+Sfn":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("4R65"),o=function(){function e(e,t,n){void 0===n&&(n=""),this.overlays={Wind:i.tileLayer("http://{s}.tile.openweathermap.org/map/wind/{z}/{x}/{y}.png?appid={apiKey}",{maxZoom:19,attribution:'Map data &copy; <a href="http://openweathermap.org">OpenWeatherMap</a>',apiKey:"4c7eb53908d60c95dee0bc9b5f1ec9ed",opacity:.5}),Clouds:i.tileLayer("http://{s}.tile.openweathermap.org/map/clouds/{z}/{x}/{y}.png?appid={apiKey}",{maxZoom:19,attribution:'Map data &copy; <a href="http://openweathermap.org">OpenWeatherMap</a>',apiKey:"4c7eb53908d60c95dee0bc9b5f1ec9ed",opacity:.5}),Pressure:i.tileLayer("http://{s}.tile.openweathermap.org/map/pressure/{z}/{x}/{y}.png?appid={apiKey}",{maxZoom:19,attribution:'Map data &copy; <a href="http://openweathermap.org">OpenWeatherMap</a>',apiKey:"4c7eb53908d60c95dee0bc9b5f1ec9ed",opacity:.5})},this.baseLayers={Terrain:i.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:17,attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}),Satellite:i.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"})};var o=this.baseLayers.Terrain;n&&(o=this.baseLayers[n]),this.imap=i.map(e,{center:[t.location.lat,t.location.lng],zoom:t.zoom,minZoom:t.minZoom,zoomControl:!1,layers:[o]})}return e.prototype.addLayer=function(e,t){this.overlays[e]=t,this.imap.addLayer(t)},e.prototype.addLayerGroup=function(e){this.overlays[e]=i.layerGroup([]),this.imap.addLayer(this.overlays[e])},e.prototype.showLayerControl=function(){this.control=i.control.layers(this.baseLayers,this.overlays).addTo(this.imap)},e.prototype.showZoomControl=function(e){void 0===e&&(e="topleft"),i.control.zoom({position:e}).addTo(this.imap)},e.prototype.moveTo=function(e,t){this.imap.setZoom(e),this.imap.panTo(new i.LatLng(t.lat,t.lng))},e.prototype.zoomTo=function(e){this.imap.setView(new i.LatLng(e.lat,e.lng),8)},e.prototype.addMarker=function(e,t,n){var o;void 0===t&&(t=""),void 0===n&&(n="default");var r=i.marker([e.lat,e.lng]);if(t){var a=i.popup({autoClose:!1,closeOnClick:!1});a.setContent(t),r.bindPopup(a)}this.overlays[n]?o=this.overlays[n]:(o=i.layerGroup([]),this.overlays[n]=o,this.imap.addLayer(o)),r.addTo(o)},e.prototype.invalidateSize=function(){this.imap.invalidateSize(),this.imap._onResize()},e}()},0:function(e,t,n){n("GAND"),n("GmYv"),e.exports=n("b9nV")},"54d1":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){return function(e){this.point=e}}()},GfLW:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var i=n("aurelia-framework"),o=n("4ysu"),r=n("70NS"),a=n("aurelia-event-aggregator"),s=n("1aCK"),c=n("54d1"),u=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},l=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function a(e){try{c(i.next(e))}catch(e){r(e)}}function s(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((i=i.apply(e,t||[])).next())})},f=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},d=function(){function e(e,t,n,i){this.httpClient=e,this.ea=t,this.au=n,this.router=i,this.points=[],this.categories=[],this.users=new Map,this.usersById=new Map,e.configure(function(e){e.withBaseUrl("https://rw-poi-web-server.glitch.me")})}return e.prototype.getUsers=function(){return p(this,void 0,void 0,function(){var e=this;return f(this,function(t){switch(t.label){case 0:return[4,this.httpClient.get("/api/users")];case 1:return[4,t.sent().content];case 2:return t.sent().forEach(function(t){e.users.set(t.email,t),e.usersById.set(t._id,t)}),[2]}})})},e.prototype.getCurrentUser=function(){return p(this,void 0,void 0,function(){var e;return f(this,function(t){switch(t.label){case 0:return[4,this.httpClient.get("/api/users/current")];case 1:return[4,t.sent().content];case 2:return e=t.sent(),console.log("Current user: "+JSON.stringify(e)),[2,e]}})})},e.prototype.signup=function(e,t,n,i){return p(this,void 0,void 0,function(){var o,r;return f(this,function(a){switch(a.label){case 0:return o={firstName:e,lastName:t,email:n,password:i},[4,this.httpClient.post("/api/users",o)];case 1:return[4,a.sent().content];case 2:return r=a.sent(),this.users.set(r.email,r),this.usersById.set(r._id,r),[4,this.getPoints()];case 3:return a.sent(),[4,this.getCategories()];case 4:return a.sent(),this.changeRouter("app"),[2,!1]}})})},e.prototype.login=function(e,t){return p(this,void 0,void 0,function(){var n,i;return f(this,function(o){switch(o.label){case 0:return[4,this.httpClient.post("/api/users/authenticate",{email:e,password:t})];case 1:return[4,(n=o.sent()).content];case 2:return(i=o.sent()).success?(this.httpClient.configure(function(e){e.withHeader("Authorization","bearer "+i.token)}),localStorage.poi=JSON.stringify(n.content),[4,this.getUsers()]):[3,6];case 3:return o.sent(),[4,this.getPoints()];case 4:return o.sent(),[4,this.getCategories()];case 5:return o.sent(),this.changeRouter("app"),[2,!0];case 6:return[2,!1]}})})},e.prototype.logout=function(){localStorage.poi=null,this.httpClient.configure(function(e){e.withHeader("Authorization","")}),this.changeRouter("start")},e.prototype.checkIsAuthenticated=function(){"null"!==localStorage.poi&&(!0,this.httpClient.configure(function(e){var t=JSON.parse(localStorage.poi);e.withHeader("Authorization","bearer "+t.token)}),this.changeRouter("app"))},e.prototype.getPoints=function(){return p(this,void 0,void 0,function(){var e=this;return f(this,function(t){switch(t.label){case 0:return[4,this.httpClient.get("/api/points")];case 1:return[4,t.sent().content];case 2:return t.sent().forEach(function(t){var n={name:t.name,description:t.description,imageURL:t.imageUrl,addedBy:e.usersById.get(t.addedBy),geo:t.geo,_id:t._id};e.points.push(n)}),console.log("Points:"),console.log(this.points),[2]}})})},e.prototype.getPoint=function(e){return p(this,void 0,void 0,function(){var t;return f(this,function(n){switch(n.label){case 0:return[4,this.httpClient.get("/api/points/"+e)];case 1:return[4,n.sent().content];case 2:return t=n.sent(),console.log(JSON.stringify(t)),[2,t]}})})},e.prototype.addPoint=function(e,t,n,i){return p(this,void 0,void 0,function(){var o,r,a;return f(this,function(s){switch(s.label){case 0:return[4,this.getCurrentUser()];case 1:return o=s.sent(),r={name:e,description:t,addedBy:o,geo:i},[4,this.httpClient.post("/api/categories/"+n._id+"/points",r)];case 2:return[4,s.sent().content];case 3:return(a=s.sent()).geo=r.geo,this.points.push(a),n.points.push(a),this.ea.publish(new c.a(a)),console.log("Point added: "+JSON.stringify(r)),[2]}})})},e.prototype.updatePoint=function(e,t,n,i){return p(this,void 0,void 0,function(){var o,r,a;return f(this,function(s){switch(s.label){case 0:return[4,this.getCurrentUser()];case 1:return o=s.sent(),r={name:t,description:n,addedBy:o,geo:i},[4,this.httpClient.put("/api/points/"+e,r)];case 2:return a=s.sent(),console.log("Point updated: "+a.content),[4,this.router.navigateToRoute("poiDetail",{id:e})];case 3:return s.sent(),[2]}})})},e.prototype.deletePoint=function(e){return p(this,void 0,void 0,function(){return f(this,function(t){switch(t.label){case 0:return[4,this.httpClient.delete("/api/points/"+e)];case 1:return t.sent(),[4,this.resetData()];case 2:return t.sent(),[4,this.router.navigateToRoute("POI")];case 3:return t.sent(),[2]}})})},e.prototype.getCategories=function(){return p(this,void 0,void 0,function(){var e;return f(this,function(t){switch(t.label){case 0:return[4,this.httpClient.get("/api/categories")];case 1:return[4,t.sent().content];case 2:return e=t.sent(),console.log("Returned Categories:"),console.log(e),this.categories=e,console.log("Categories:"),console.log(this.categories),[2]}})})},e.prototype.addCategory=function(e){return p(this,void 0,void 0,function(){var t,n;return f(this,function(i){switch(i.label){case 0:return t={name:e},[4,this.httpClient.post("/api/categories",t)];case 1:return[4,i.sent().content];case 2:return n=i.sent(),this.categories.push(n),[2]}})})},e.prototype.changeRouter=function(e){this.router.navigate("/",{replace:!0,trigger:!1}),this.router.reset(),this.au.setRoot(r.d.moduleName(e))},e.prototype.resetData=function(){return p(this,void 0,void 0,function(){return f(this,function(e){switch(e.label){case 0:return this.points.length=0,this.categories.length=0,[4,this.getPoints()];case 1:return e.sent(),[4,this.getCategories()];case 2:return e.sent(),[2]}})})},e=u([Object(i.c)(s.a,a.a,i.Aurelia,o.c),l("design:paramtypes",[s.a,a.a,i.Aurelia,o.c])],e)}()},app:function(e,t,n){"use strict";n.r(t),n.d(t,"App",function(){return i});n("70NS");var i=function(){function e(){}return e.prototype.configureRouter=function(e,t){e.map([{route:["","poi"],name:"POI",moduleId:"views/points",nav:!0,title:"POI"},{route:"poi/:id",name:"poiDetail",moduleId:"views/poidetail",title:"POI"},{route:"updatepoint/:id",name:"updatePoint",moduleId:"views/update-point",title:"Update Point"},{route:"categories",name:"categories",moduleId:"views/categories",nav:!0,title:"Categories"},{route:"map",name:"map",moduleId:"views/map",nav:!0,title:"Map"},{route:"logout",name:"logout",moduleId:"views/logout",nav:!0,title:"Logout"}]),this.router=t},e}()},"app.html":function(e,t,n){e.exports='<template>\n  <require from="resources/elements/nav-bar.html"></require>\n\n  <div class="ui content">\n    <nav-bar router.bind="router"></nav-bar>\n    <section class="ui raised segment">\n      <h3 class="ui header">Point of Interest</h3>\n    </section>\n    <div class="ui basic segment">\n      <router-view></router-view>\n    </div>\n  </div>\n</template>\n'},main:function(e,t,n){"use strict";n("LSZE");var i={debug:!1,testing:!1};n("70NS");function o(e){return e.use.standardConfiguration().feature("resources/index"),e.use.developmentLogging(i.debug?"debug":"warn"),i.testing&&e.use.plugin("aurelia-testing"),e.start().then(function(){return e.setRoot("start")})}n.d(t,"configure",function(){return o})},"resources/elements/categories-form":function(e,t,n){"use strict";n.r(t),n.d(t,"CategoriesForm",function(){return s});var i=n("aurelia-framework"),o=n("GfLW"),r=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e){this.ps=e}return e.prototype.addCategory=function(){this.ps.addCategory(this.name)},r([i.b,a("design:type",Array)],e.prototype,"points",void 0),e=r([Object(i.c)(o.a),a("design:paramtypes",[o.a])],e)}()},"resources/elements/categories-form.html":function(e,t){e.exports='<template>\n  <form submit.trigger="addCategory()" class="ui form stacked segment">\n    <h3 class="ui dividing header">Add a Category</h3>\n    <div class="field">\n      <label>Name</label> <input value.bind="name">\n    </div>\n    <button class="ui blue submit button">Add</button>\n  </form>\n</template>\n'},"resources/elements/categories-list":function(e,t,n){"use strict";n.r(t),n.d(t,"CategoriesList",function(){return a});var i=n("aurelia-framework"),o=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},r=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(){}return o([i.b,r("design:type",Array)],e.prototype,"categories",void 0),e}()},"resources/elements/categories-list.html":function(e,t){e.exports='<template>\n  <h3 class="ui dividing header">Categories</h3>\n  <section repeat.for="category of categories" class="ui clearing raised segment">\n    <h3 class="ui dividing header">${category.name}</h3>\n    <table class="ui celled table segment">\n      <thead>\n        <tr>\n          <th>Name</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr repeat.for="point of category.points">\n          <td><a href="/#/poi/${point._id}">${point.name}</a></td>\n        </tr>\n      </tbody>\n    </table>\n  </section>\n</template>\n'},"resources/elements/coordinates":function(e,t,n){"use strict";n.r(t),n.d(t,"Coordinates",function(){return a});var i=n("aurelia-framework"),o=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},r=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(){}return o([i.b,r("design:type",Object)],e.prototype,"location",void 0),e}()},"resources/elements/coordinates.html":function(e,t){e.exports='<template>\n  <h4 class="ui dividing header">Enter Coordinates</h4>\n  <div class="two fields">\n    <div class="field">\n      <label>Latitude</label>\n      <input placeholder="00.000000" value.bind="location.lat">\n    </div>\n    <div class="field">\n      <label>Longitude</label>\n      <input placeholder="00.0000000" value.bind="location.lng">\n    </div>\n  </div>\n</template>\n'},"resources/elements/nav-bar.html":function(e,t){e.exports='<template bindable="router">\n\n  <nav class="ui inverted menu">\n    <div class="right menu">\n      <div repeat.for="row of router.navigation">\n        <a class="${row.isActive ? \'active\' : \'\'} item"  href.bind="row.href">${row.title}</a>\n      </div>\n    </div>\n  </nav>\n\n</template>\n'},"resources/elements/poi-map":function(e,t,n){"use strict";n.r(t),n.d(t,"PoiMap",function(){return u});var i=n("aurelia-framework"),o=n("aurelia-event-aggregator"),r=n("+Sfn"),a=n("54d1"),s=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},c=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e){var t=this;this.ea=e,this.mapId="poi-map",this.mapHeight=300,e.subscribe(a.a,function(e){t.renderPoint(e.point)})}return e.prototype.renderPoint=function(e){if(this.map){var t=""+e.name;this.map.addMarker(e.geo,t),this.map.moveTo(12,e.geo)}},e.prototype.attached=function(){this.map=new r.a(this.mapId,{location:{lat:53.2734,lng:-7.7783203},zoom:8,minZoom:7},"Terrain"),this.map.showZoomControl()},e=s([Object(i.c)(o.a),c("design:paramtypes",[o.a])],e)}()},"resources/elements/poi-map.html":function(e,t){e.exports='<template>\n  <div class="ui stacked segment">\n    <div id="${mapId}" class="ui embed" style="height:${mapHeight}px; z-index: 0"></div>\n  </div>\n</template>\n'},"resources/elements/points-form":function(e,t,n){"use strict";n.r(t),n.d(t,"PointsForm",function(){return s});var i=n("aurelia-framework"),o=n("GfLW"),r=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e){this.ps=e,this.selectedCategory=null,this.location={lat:53.2734,lng:-7.7783203}}return e.prototype.addPoint=function(){this.ps.addPoint(this.name,this.description,this.selectedCategory,this.location)},r([i.b,a("design:type",Array)],e.prototype,"categories",void 0),e=r([Object(i.c)(o.a),a("design:paramtypes",[o.a])],e)}()},"resources/elements/points-form.html":function(e,t,n){e.exports='<template>\n  <require from="./coordinates"></require>\n  <form submit.trigger="addPoint()" class="ui form stacked segment">\n    <h3 class="ui dividing header">Add a Point</h3>\n    <div class="field">\n      <label>Category</label>\n      <select value.bind="selectedCategory">\n        <option model.bind="null">Choose...</option>\n        <option repeat.for="category of categories" model.bind="category">\n          ${category.name}\n        </option>\n      </select>\n    </div>\n    <div class="field">\n      <label>Name</label> <input value.bind="name">\n    </div>\n    <div class="field">\n      <label>Description</label> <textarea placeholder="Description" value.bind="description"></textarea>\n    </div>\n    <coordinates location.two-way="location"></coordinates>\n    <button class="ui blue submit button">Add</button>\n  </form>\n\n</template>\n'},"resources/elements/points-list":function(e,t,n){"use strict";n.r(t),n.d(t,"PointsList",function(){return a});var i=n("aurelia-framework"),o=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},r=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(){}return o([i.b,r("design:type",Array)],e.prototype,"points",void 0),e}()},"resources/elements/points-list.html":function(e,t){e.exports='<template>\n  <h3 class="ui dividing header">Points</h3>\n  <section repeat.for="point of points" class="ui clearing raised segment">\n    <table class="ui celled table segment">\n      <thead>\n        <tr>\n          <th>Name</th>\n          <th>Added By</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td>${point.name}</td>\n          <td>${point.addedBy.firstName} ${point.addedBy.lastName}</td>\n        </tr>\n      </tbody>\n    </table>\n    <div class="ui container">\n      <a href="/#/poi/${point._id}"><button class="ui blue right floated button">View<i class="chevron right icon"></i></button></a>\n    </div>\n  </section>\n</template>\n'},"resources/index":function(e,t,n){"use strict";function i(e){}n.r(t),n.d(t,"configure",function(){return i})},start:function(e,t,n){"use strict";n.r(t),n.d(t,"Start",function(){return s});var i=n("aurelia-framework"),o=(n("70NS"),n("GfLW")),r=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e){this.ps=e}return e.prototype.configureRouter=function(e,t){e.map([{route:["","login"],name:"Login",moduleId:"views/login",nav:!0,title:"Login"},{route:"signup",name:"signup",moduleId:"views/signup",nav:!0,title:"Signup"}]),this.router=t},e.prototype.attached=function(){this.ps.checkIsAuthenticated()},e=r([Object(i.c)(o.a),a("design:paramtypes",[o.a])],e)}()},"start.html":function(e,t,n){e.exports='<template>\n  <require from="resources/elements/nav-bar.html"></require>\n  <div class="ui content">\n    <nav-bar router.bind="router"></nav-bar>\n    <section class="ui raised segment">\n      <h3 class="ui header">Islands of Ireland</h3>\n    </section>\n    <div class="ui basic segment">\n      <router-view></router-view>\n    </div>\n  </div>\n</template>\n'},"views/categories":function(e,t,n){"use strict";n.r(t),n.d(t,"Categories",function(){return s});var i=n("aurelia-framework"),o=n("GfLW"),r=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e){this.ps=e,this.categories=e.categories}return e=r([Object(i.c)(o.a),a("design:paramtypes",[o.a])],e)}()},"views/categories.html":function(e,t,n){e.exports='<template>\n  <require from="../resources/elements/categories-form"></require>\n  <require from="../resources/elements/categories-list"></require>\n\n  <div class="ui stackable two column grid">\n    <div class="column">\n      <categories-form></categories-form>\n    </div>\n    <div class="column">\n      <categories-list categories.bind="categories"></categories-list>\n    </div>\n  </div>\n</template>\n'},"views/login":function(e,t,n){"use strict";n.r(t),n.d(t,"Login",function(){return u});var i=n("aurelia-framework"),o=n("GfLW"),r=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function a(e){try{c(i.next(e))}catch(e){r(e)}}function s(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((i=i.apply(e,t||[])).next())})},c=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},u=function(){function e(e){this.ps=e,this.email="marge@simpson.com",this.password="secret",this.prompt=""}return e.prototype.login=function(e){return s(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return console.log("Trying to log in "+this.email),[4,this.ps.login(this.email,this.password)];case 1:return e.sent()||(this.prompt="Oops! Try again..."),[2]}})})},e=r([Object(i.c)(o.a),a("design:paramtypes",[o.a])],e)}()},"views/login.html":function(e,t){e.exports='<template>\n  <div class="ui stackable two column grid">\n    <div class="column">\n      <form submit.delegate="login($event)" class="ui stacked segment form">\n        <h3 class="ui header">Log-in</h3>\n        <div class="field">\n          <label>Email</label>\n          <input placeholder="Email" value.bind="email">\n        </div>\n        <div class="field">\n          <label>Password</label>\n          <input type="password" value.bind="password">\n        </div>\n        <button class="ui blue submit button">Login</button>\n        <h3>${prompt}</h3>\n      </form>\n    </div>\n    <div class="column">\n      <img class="ui medium image" src="/images/poi.jpg">\n    </div>\n  </div>\n</template>\n'},"views/logout":function(e,t,n){"use strict";n.r(t),n.d(t,"Logout",function(){return s});var i=n("aurelia-framework"),o=n("GfLW"),r=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e){this.ps=e}return e.prototype.attached=function(){this.ps.logout()},e=r([Object(i.c)(o.a),a("design:paramtypes",[o.a])],e)}()},"views/logout.html":function(e,t){e.exports="<template>\n\n</template>\n"},"views/map":function(e,t,n){"use strict";n.r(t),n.d(t,"Map",function(){return c});var i=n("+Sfn"),o=n("GfLW"),r=n("aurelia-framework"),a=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},s=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e){this.ps=e,this.mapId="main-map",this.mapHeight=600}return e.prototype.renderPoints=function(){for(var e=0,t=this.ps.points;e<t.length;e++){var n=t[e],i=""+n.name;this.map.addMarker(n.geo,i,"Points")}},e.prototype.attached=function(){this.map=new i.a(this.mapId,{location:{lat:53.2734,lng:-7.7783203},zoom:8,minZoom:1},"Terrain"),this.map.showZoomControl(),this.map.addLayerGroup("Points"),this.map.showLayerControl(),this.renderPoints()},e=a([Object(r.c)(o.a),s("design:paramtypes",[o.a])],e)}()},"views/map.html":function(e,t){e.exports='<template>\n  <div class="ui stacked segment">\n    <div id="${mapId}" class="ui embed" style="height:${mapHeight}px; z-index: 0"></div>\n  </div>\n</template>\n'},"views/poidetail":function(e,t,n){"use strict";n.r(t),n.d(t,"Poidetail",function(){return u});var i=n("aurelia-framework"),o=n("GfLW"),r=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function a(e){try{c(i.next(e))}catch(e){r(e)}}function s(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((i=i.apply(e,t||[])).next())})},c=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},u=function(){function e(e){this.ps=e}return e.prototype.deletePoint=function(){return s(this,void 0,void 0,function(){return c(this,function(e){return this.ps.deletePoint(this.point._id),[2]})})},e.prototype.activate=function(e){return s(this,void 0,void 0,function(){var t;return c(this,function(n){switch(n.label){case 0:return t=this,[4,this.ps.getPoint(e.id)];case 1:return t.point=n.sent(),[2]}})})},e=r([Object(i.c)(o.a),a("design:paramtypes",[o.a])],e)}()},"views/poidetail.html":function(e,t,n){e.exports='<template>\n  <require from="../resources/elements/poi-map"></require>\n\n  <div class="ui container">\n    <section class="ui stacked segment">\n      <div class="ui grid">\n        <aside class="six wide column">\n          <div class="ui segment">\n            <img src="${point.imageUrl}" class="ui large image">\n            <poi-map></poi-map>\n          </div>\n        </aside>\n        <article class="ten wide column">\n          <div class="ui segment">\n            <header class="ui header">${point.name}</header>\n            <h4>Description</h4>\n            <p>${point.description}</p>\n            <div class="ui container"></div>\n            <a href="/#/updatepoint/${point._id}"><button class="ui blue button">Update</button></a>\n            <button class="negative ui right floated button" click.trigger="deletePoint()">Delete</button>\n          </div>\n        </article>\n      </div>\n    </section>\n  </div>\n</template>\n'},"views/points":function(e,t,n){"use strict";n.r(t),n.d(t,"Points",function(){return s});var i=n("aurelia-framework"),o=n("GfLW"),r=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e){this.ps=e,this.points=e.points,this.categories=e.categories}return e=r([Object(i.c)(o.a),a("design:paramtypes",[o.a])],e)}()},"views/points.html":function(e,t,n){e.exports='<template>\n  <require from="../resources/elements/points-list"></require>\n  <require from="../resources/elements/points-form"></require>\n  <require from="../resources/elements/poi-map"></require>\n\n  <div class="ui stackable two column grid">\n    <div class="column">\n      <points-form categories.bind="categories"></points-form>\n      <poi-map></poi-map>\n    </div>\n    <div class="column">\n      <points-list points.bind="points"></points-list>\n    </div>\n  </div>\n</template>\n'},"views/signup":function(e,t,n){"use strict";n.r(t),n.d(t,"Signup",function(){return s});var i=n("aurelia-framework"),o=n("GfLW"),r=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e){this.ps=e,this.firstName="Marge",this.lastName="Simpson",this.email="marge@simpson.com",this.password="secret",this.prompt=""}return e.prototype.signup=function(e){console.log("Trying to sign up "+this.email),this.ps.signup(this.firstName,this.lastName,this.email,this.password)||(this.prompt="Oops! Try again...")},e=r([Object(i.c)(o.a),a("design:paramtypes",[o.a])],e)}()},"views/signup.html":function(e,t){e.exports='<template>\n  <div class="ui stackable two column grid">\n    <div class="column">\n      <img class="ui medium image" src="/images/poi.jpg">\n    </div>\n    <div class="column">\n      <form submit.delegate="signup($event)" class="ui stacked segment form">\n        <h3 class="ui header">Register</h3>\n        <div class="two fields">\n          <div class="field">\n            <label>First Name</label>\n            <input placeholder="First Name" type="text" value.bind="firstName">\n          </div>\n          <div class="field">\n            <label>Last Name</label>\n            <input placeholder="Last Name" type="text" value.bind="lastName">\n          </div>\n        </div>\n        <div class="field">\n          <label>Email</label>\n          <input placeholder="Email" type="text" value.bind="email">\n        </div>\n        <div class="field">\n          <label>Password</label>\n          <input type="password" value.bind="password">\n        </div>\n        <button class="ui blue submit button">Submit</button>\n      </form>\n      <h3>${prompt}</h3>\n    </div>\n  </div>\n</template>\n'},"views/update-point":function(e,t,n){"use strict";n.r(t),n.d(t,"UpdatePoint",function(){return u});var i=n("aurelia-framework"),o=n("GfLW"),r=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function a(e){try{c(i.next(e))}catch(e){r(e)}}function s(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((i=i.apply(e,t||[])).next())})},c=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},u=function(){function e(e){this.ps=e,this.location={lat:53.2734,lng:-7.7783203}}return e.prototype.updatePoint=function(){return s(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,this.ps.updatePoint(this.id,this.point.name,this.point.description,this.point.geo)];case 1:return e.sent(),[2]}})})},e.prototype.activate=function(e){return s(this,void 0,void 0,function(){var t;return c(this,function(n){switch(n.label){case 0:return this.id=e.id,t=this,[4,this.ps.getPoint(e.id)];case 1:return t.point=n.sent(),[2]}})})},e=r([Object(i.c)(o.a),a("design:paramtypes",[o.a])],e)}()},"views/update-point.html":function(e,t,n){e.exports='<template>\n  <require from="../resources/elements/coordinates"></require>\n  <require from="../resources/elements/poi-map"></require>\n  <form submit.trigger="updatePoint()" class="ui form stacked segment">\n    <h3 class="ui dividing header">Update ${point.name}</h3>\n    <div class="field">\n      <label>Name</label> <input type="text" value.bind="point.name">\n    </div>\n    <div class="field">\n      <label>Description</label> <textarea type="text" value.bind="point.description"></textarea>\n    </div>\n    <coordinates location.two-way="location"></coordinates>\n    <poi-map></poi-map>\n    <button class="ui blue submit button">Update</button>\n  </form>\n\n</template>\n'}},[[0,1,2,6,5,7,10,9,4,8,3]]]);
//# sourceMappingURL=app~d0ae3f07.34f220c585228c3e4497.bundle.map